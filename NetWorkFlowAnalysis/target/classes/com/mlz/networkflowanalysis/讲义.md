


网站的页面浏览量
用户每打开一个页面 统计一个PV 最简单的 最容易理解的一个指标
网络卡  拼命的点击   刷流量
还要统计UV


统计PV的方法
web日志直接按照访问的次数 发起的请求 做筛选 访问页面的请求
从请求去考虑  从用户的点击行为去考虑


热门商品的指标
数据源 埋点日志

统计滚动窗口的时间也是可以的




不同的用户如何划分呢
当然是根据用户的id进行划分
没有登录的话 使用其他的一些指标


ip 比较简单 但是也可能有问题 ip换
浏览器端的cookie的方式
基于埋点数据
根据不同的userid进行筛选
根PV的不同的是去重
每一个数据来了之后在之前是否出现过
如何实现呢

把这一个时间段内的所有用户存下来
每来一个用户如果有不用添加 如果没有就添加进去
来一个数 直接向set里面扔

阿里双11  数据量是非常大的
如果这些东西全部放在内存里那么肯定是不行的
几百亿字节就是几十个G
放到redis里面也会出现问题

把所有数据收集起来操作
来一个先查重过滤一次 数据走完 去重完了


什么样的方法来实现
简单的思想就是数据存不下怎么办


对所有的key进行查重和去重
可以把key的信息简化和压缩一下
我们不关心key是什么

我们关心的是key有没有 关心的不是是什么
如果压缩到一致的话 那么我们用一个位就能够表示

一个id对应到压缩之后的id就是一个位
我们把状态保存到类图里面来

每一个位代表一个特殊的存在 这个位存在还是不存在
不仅仅是存储了一个位图

如何对应
必须对应到唯一的能够找到的一个位置上
显然就是计算一个hash值 ，用hash函数实现  
实现的是一个概率型的一个数据可能不可能存在
0的话是一定不存在的
1的话 可能存在

hash函数的话
hash函数简单 
到底是哪一个key让这个位变成了1 

对hash函数做一个简单的实现
得到的是一个不确定的结果
主要的特点是在于极大的节省了空间


一百个bit 压缩1位  
相当于压缩成了
800位 1/1000的压缩的比率
者其实是极大量数据是否存在


具体的实布隆过滤器

自定义窗口触发器
定义布隆过滤器
部署安装redis的环境 localhost 


触发器的种类 事件 计时 。。。。。。 


